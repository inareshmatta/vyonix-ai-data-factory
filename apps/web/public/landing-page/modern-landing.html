<!DOCTYPE html>
<html lang="en" data-theme="light">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vyonix AI Data Factory | The Architecture of Intelligence</title>
    <script src="https://unpkg.com/lucide@latest"></script>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;500;600;700;800&display=swap"
        rel="stylesheet">
    <style>
        :root {
            --bg: #f5f5f7;
            --fg: #1d1d1f;
            --accent: #0066cc;
            --sub-bg: #ffffff;
            --text-secondary: #6e6e73;
            --card-radius: 40px;
            --transition-main: cubic-bezier(0.4, 0, 0.2, 1);
            --section-height: 300vh;
        }

        [data-theme="dark"] {
            --bg: #000000;
            --fg: #ffffff;
            --accent: #0071e3;
            --sub-bg: #1d1d1f;
            --text-secondary: #86868b;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Plus Jakarta Sans', -apple-system, sans-serif;
        }

        body {
            background-color: var(--bg);
            color: var(--fg);
            overflow-x: hidden;
            scroll-behavior: smooth;
        }

        /* Nav */
        nav {
            position: fixed;
            top: 0;
            width: 100%;
            height: 64px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 40px;
            z-index: 1000;
            background: rgba(var(--bg), 0.85);
            backdrop-filter: saturate(180%) blur(20px);
            border-bottom: 1px solid rgba(128, 128, 128, 0.1);
        }

        .logo {
            font-weight: 800;
            font-size: 1.2rem;
            letter-spacing: -0.5px;
            color: var(--fg);
        }

        .nav-right {
            display: flex;
            align-items: center;
            gap: 24px;
        }

        .theme-toggle {
            cursor: pointer;
            border: none;
            background: none;
            color: var(--fg);
            padding: 8px;
            border-radius: 50%;
            transition: background 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* Hero */
        #hero {
            height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            padding: 120px 20px 60px;
        }

        .hero-title {
            font-size: clamp(3rem, 10vw, 6.5rem);
            font-weight: 800;
            letter-spacing: -5px;
            line-height: 0.95;
            margin-bottom: 32px;
            opacity: 0;
            transition: opacity 1.2s var(--transition-main);
        }

        .hero-subtitle {
            font-size: 1.3rem;
            color: var(--text-secondary);
            font-weight: 500;
            max-width: 850px;
            opacity: 0;
            transition: opacity 1.2s var(--transition-main) 0.3s;
        }

        .hero-title.active,
        .hero-subtitle.active {
            opacity: 1;
        }

        /* Partner Logos */
        .partner-row {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 40px;
            margin-top: 50px;
            opacity: 0;
            transition: opacity 1s var(--transition-main) 0.5s;
        }

        #hero.active .partner-row {
            opacity: 0.6;
        }

        .partner-logo {
            height: 24px;
            filter: grayscale(1) invert(var(--logo-invert, 0));
            transition: all 0.4s;
        }

        [data-theme="dark"] {
            --logo-invert: 1;
        }

        .partner-logo:hover {
            filter: grayscale(0) invert(0);
            opacity: 1;
            transform: scale(1.1);
        }

        /* Value Grid */
        .value-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 24px;
            max-width: 1100px;
            margin-top: 60px;
            opacity: 0;
            transform: translateY(20px);
            transition: all 1s var(--transition-main) 0.6s;
        }

        #hero.active .value-grid {
            opacity: 1;
            transform: translateY(0);
        }

        .value-item {
            padding: 32px 24px;
            border-radius: 24px;
            background: rgba(128, 128, 128, 0.05);
            border: 1px solid rgba(128, 128, 128, 0.1);
            text-align: left;
        }

        .value-item h4 {
            font-size: 1.4rem;
            font-weight: 800;
            margin-bottom: 12px;
            color: var(--accent);
        }

        .value-item p {
            font-size: 0.95rem;
            color: var(--text-secondary);
            font-weight: 600;
            line-height: 1.4;
        }

        /* Feature Sections */
        .feature-container {
            position: relative;
        }

        .sticky-section {
            height: var(--section-height);
            position: relative;
        }

        .scroll-content {
            position: sticky;
            top: 0;
            height: 100vh;
            width: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 0 40px;
            gap: 80px;
            opacity: 0;
            filter: blur(20px);
            transition: all 0.1s linear;
        }

        /* Layout Alternating */
        .text-side {
            flex: 1;
            max-width: 580px;
            z-index: 10;
        }

        .visual-side {
            flex: 1.4;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .feature-image-wrapper {
            width: 100%;
            border-radius: var(--card-radius);
            overflow: hidden;
            box-shadow: 0 50px 100px rgba(0, 0, 0, 0.1);
            background: var(--sub-bg);
            border: 1px solid rgba(128, 128, 128, 0.1);
        }

        [data-theme="dark"] .feature-image-wrapper {
            box-shadow: 0 50px 100px rgba(0, 0, 0, 0.4);
        }

        .feature-image-wrapper img {
            width: 100%;
            height: auto;
            display: block;
        }

        /* Reverse Layout */
        .reverse {
            flex-direction: row-reverse;
        }

        /* Typography */
        .engine-tag {
            text-transform: uppercase;
            font-size: 0.8rem;
            font-weight: 800;
            letter-spacing: 0.35rem;
            margin-bottom: 24px;
            display: block;
        }

        .text-side h2 {
            font-size: clamp(2.5rem, 5vw, 4.5rem);
            font-weight: 800;
            letter-spacing: -3.5px;
            line-height: 1;
            margin-bottom: 24px;
        }

        .text-side p {
            font-size: 1.2rem;
            line-height: 1.6;
            color: var(--text-secondary);
            margin-bottom: 24px;
            font-weight: 500;
        }

        .technical-details {
            font-size: 0.95rem;
            line-height: 1.7;
            color: var(--text-secondary);
            margin-bottom: 32px;
            border-top: 1px solid rgba(128, 128, 128, 0.1);
            padding-top: 24px;
        }

        /* Synthetic Badge */
        .synthetic-badge {
            background: rgba(var(--accent-rgb, 0, 113, 227), 0.08);
            border-left: 5px solid var(--accent-color, var(--accent));
            padding: 24px 32px;
            border-radius: 0 20px 20px 0;
            margin-top: 32px;
        }

        .synthetic-badge h4 {
            font-size: 0.9rem;
            font-weight: 800;
            margin-bottom: 8px;
            color: var(--accent-color, var(--accent));
            display: flex;
            align-items: center;
            gap: 10px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        /* Buttons */
        .btn-group {
            display: flex;
            gap: 20px;
            margin-top: 60px;
        }

        .btn {
            padding: 20px 44px;
            border-radius: 100px;
            font-size: 1.1rem;
            font-weight: 700;
            transition: all 0.4s var(--transition-main);
            cursor: pointer;
            border: none;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
        }

        .btn-primary {
            background-color: var(--fg);
            color: var(--bg);
        }

        .btn-primary:hover {
            transform: translateY(-4px);
            box-shadow: 0 15px 30px rgba(128, 128, 128, 0.1);
        }

        .btn-secondary {
            background: rgba(128, 128, 128, 0.08);
            color: var(--fg);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(128, 128, 128, 0.1);
        }

        .btn-secondary:hover {
            background: rgba(128, 128, 128, 0.15);
            transform: translateY(-4px);
        }

        /* Access Modal */
        .access-modal {
            position: fixed;
            inset: 0;
            background: rgba(var(--bg), 0.94);
            z-index: 2000;
            display: none;
            align-items: center;
            justify-content: center;
            backdrop-filter: blur(40px);
            opacity: 0;
            transition: opacity 0.5s;
        }

        .access-modal.active {
            display: flex;
            opacity: 1;
        }

        .modal-card {
            background: var(--sub-bg);
            padding: 60px 40px;
            border-radius: 32px;
            text-align: center;
            width: 90%;
            max-width: 500px;
            border: 1px solid rgba(128, 128, 128, 0.1);
            box-shadow: 0 40px 80px rgba(0, 0, 0, 0.1);
        }

        .code-input {
            width: 100%;
            background: rgba(128, 128, 128, 0.03);
            border: 1px solid rgba(128, 128, 128, 0.1);
            border-radius: 16px;
            font-size: 2rem;
            text-align: center;
            color: var(--fg);
            height: 80px;
            margin: 40px 0 24px;
            letter-spacing: 8px;
            outline: none;
            font-weight: 800;
        }

        .code-input:focus {
            border-color: var(--accent);
            background: rgba(128, 128, 128, 0.05);
        }

        .modal-btn {
            width: 100%;
            height: 70px;
            border-radius: 16px;
            font-size: 1.2rem;
            font-weight: 800;
            background: var(--fg);
            color: var(--bg);
            border: none;
            cursor: pointer;
            transition: all 0.3s;
        }

        .modal-btn:hover {
            background: var(--accent);
            color: white;
            transform: translateY(-2px);
        }

        /* Footer */
        footer {
            padding: 120px 20px;
            text-align: center;
            border-top: 1px solid rgba(128, 128, 128, 0.1);
        }

        .footer-logo {
            font-size: 2.5rem;
            font-weight: 900;
            letter-spacing: -2.5px;
            margin-bottom: 24px;
            color: var(--fg);
        }

        .credit-name {
            font-weight: 800;
            color: var(--fg);
            font-size: 1.6rem;
            display: block;
            margin-top: 12px;
        }

        /* Loader */
        #loader {
            position: fixed;
            inset: 0;
            background: var(--bg);
            z-index: 9999;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: opacity 1s var(--transition-main);
        }

        #loader h1 {
            color: var(--fg);
            font-size: 3rem;
            font-weight: 900;
            letter-spacing: -3px;
        }

        @media (max-width: 1024px) {
            .scroll-content {
                flex-direction: column !important;
                padding: 120px 24px 60px;
                height: auto;
                position: relative;
                gap: 40px;
            }

            .sticky-section {
                height: auto !important;
                margin-bottom: 100px;
            }

            .text-side {
                max-width: 100%;
                text-align: center;
            }

            .value-grid {
                grid-template-columns: 1fr;
                margin-top: 50px;
            }

            .partner-row {
                gap: 20px;
                flex-wrap: wrap;
            }
        }
    </style>
</head>

<body>

    <div id="loader">
        <h1 id="loader-text">VYONIX</h1>
    </div>

    <nav>
        <div class="logo">Vyonix AI Data Factory</div>
        <div class="nav-right">
            <button class="theme-toggle" onclick="toggleTheme()" id="theme-btn"><i data-lucide="moon"
                    size="18"></i></button>
        </div>
    </nav>

    <!-- Hero Section -->
    <section id="hero">
        <h1 class="hero-title" id="main-title">Vyonix AI Data Factory.</h1>
        <p class="hero-subtitle" id="main-subtitle">The enterprise architecture for AI Data Services. Accelerate
            annotation by 80% and drastically reduce LLM training costs with automated neural pipelines.</p>

        <!-- Centered Logos -->
        <div class="partner-row">
            <div style="display: flex; align-items: center; gap: 12px;">
                <img src="https://upload.wikimedia.org/wikipedia/commons/2/2f/Google_2015_logo.svg" alt="Google"
                    class="partner-logo">
                <span style="font-size: 0.95rem; font-weight: 700; letter-spacing: 0.5px; opacity: 0.9;">Google</span>
            </div>
            <div style="display: flex; align-items: center; gap: 12px;">
                <!-- Inline Gemini Logo -->
                <svg class="partner-logo" viewBox="0 0 100 100" fill="currentColor" xmlns="http://www.w3.org/2000/svg"
                    style="height: 24px; width: auto;">
                    <path
                        d="M50 0c-1.1 27.1-22.9 48.9-50 50 27.1 1.1 48.9 22.9 50 50 1.1-27.1 22.9-48.9 50-50-27.1-1.1-48.9-22.9-50-50z" />
                </svg>
                <span style="font-size: 0.95rem; font-weight: 700; letter-spacing: 0.5px; opacity: 0.9;">Google
                    Gemini</span>
            </div>
            <div style="display: flex; align-items: center; gap: 12px;">
                <img src="https://upload.wikimedia.org/wikipedia/commons/5/51/Google_Cloud_logo.svg" alt="Google Cloud"
                    class="partner-logo" style="height: 28px;">
                <span style="font-size: 0.95rem; font-weight: 700; letter-spacing: 0.5px; opacity: 0.9;">Google
                    Cloud</span>
            </div>
        </div>

        <div class="btn-group">
            <button class="btn btn-primary" onclick="openModal('TRIAL')">Access Studio <i
                    data-lucide="sparkles"></i></button>
            <button class="btn btn-secondary" onclick="openModal('JUDGE')">Judge Access</button>
        </div>

        <div class="value-grid">
            <div class="value-item">
                <h4>80% Faster</h4>
                <p>AI-assisted ScanEye auto-annotation eliminates manual labor bottlenecks.</p>
            </div>
            <div class="value-item">
                <h4>70% Savings</h4>
                <p>Lower man-hours per dataset leads to direct reduction in training costs.</p>
            </div>
            <div class="value-item">
                <h4>10x Scale</h4>
                <p>Synthetic data engines provide infinite high-fidelity training corpuses.</p>
            </div>
        </div>
    </section>

    <div class="feature-container">
        <!-- Audio Studio -->
        <section class="sticky-section" id="audio-anchor">
            <div class="scroll-content" id="audio-content">
                <div class="text-side">
                    <span class="engine-tag" style="color: #0071e3;">Audio Intelligence</span>
                    <h2>Audio Studio.</h2>
                    <p>The solution to complex multilingual ASR datasets. Vyonix eliminates manual transcription drift
                        with word-level phonetic Devanagari ASR and automated diarization.</p>
                    <div class="technical-details">
                        Vyonix supports 6-decimal timestamping accuracy for surgical alignment between audio frames and
                        text tokens. Our engine handles multi-speaker dialogues with millisecond Diarization, perfect
                        for training nuanced conversational AI without the massive overhead of manual timestamping
                        services.
                    </div>
                    <div class="synthetic-badge" style="--accent-color: #0071e3; --accent-rgb: 0, 113, 227;">
                        <h4><i data-lucide="zap" size="18"></i> Neural Synthetic Audio</h4>
                        <p>Reduce costs by synthesizing thousands of high-fidelity voices to augment training sets
                            across diverse Indian accents and emotional contexts.</p>
                    </div>
                </div>
                <div class="visual-side">
                    <div class="feature-image-wrapper">
                        <img src="./assets/Audio Studio.png" alt="Audio Studio">
                    </div>
                </div>
            </div>
        </section>

        <!-- Vision Studio -->
        <section class="sticky-section" id="vision-anchor">
            <div class="scroll-content reverse" id="vision-content">
                <div class="text-side">
                    <span class="engine-tag" style="color: #10b981;">Computer Vision</span>
                    <h2>Vision Studio.</h2>
                    <p>Solving the computer vision data bottleneck. ScanEye leverages Gemini Pro Vision for zero-shot
                        object detection, reducing human interaction by up to 85%.</p>
                    <div class="technical-details">
                        Built for production-grade models, Vision Studio uses a normalized 1000-scale coordinate system
                        ensuring ready-to-train metadata. Precision sub-pixel zooming and pan/scan viewports allow
                        reviewers to validate high-density scenes with industrial speed and reliability.
                    </div>
                    <div class="synthetic-badge" style="--accent-color: #10b981; --accent-rgb: 16, 185, 129;">
                        <h4><i data-lucide="image" size="18"></i> Vision Synthesis Flux</h4>
                        <p>Generate context-aware synthetic images for corner-case lighting and environmental conditions
                            that are otherwise expensive and difficult to capture.</p>
                    </div>
                </div>
                <div class="visual-side">
                    <div class="feature-image-wrapper">
                        <img src="./assets/Vision Studio.png" alt="Vision Studio">
                    </div>
                </div>
            </div>
        </section>

        <!-- Video Studio -->
        <section class="sticky-section" id="video-anchor">
            <div class="scroll-content" id="video-content">
                <div class="text-side">
                    <span class="engine-tag" style="color: #8b5cf6;">Temporal Intelligence</span>
                    <h2>Video Intelligence.</h2>
                    <p>Frame-accurate understanding at scale. The Video Studio powered by **Gemini 3 Flash** delivers
                        instant object detection, scene transcription, and activity recognition.</p>
                    <div class="technical-details">
                        Processing long-context video with multimodal precision. Our engine supports native 1M+ token
                        windows
                        to analyze hour-long footage in seconds, providing structured JSON outputs for every object,
                        action,
                        and audio event without manual scrubbing.
                    </div>
                    <div class="synthetic-badge" style="--accent-color: #8b5cf6; --accent-rgb: 139, 92, 246;">
                        <h4><i data-lucide="video" size="18"></i> Neural Action Recognition</h4>
                        <p>Automatically classify complex human-object interactions and industrial workflows with
                            state-of-the-art temporal reasoning models.</p>
                    </div>
                </div>
                <div class="visual-side">
                    <div class="feature-image-wrapper">
                        <img src="./assets/Video Intelligence.jpg" alt="Video Intelligence Studio">
                    </div>
                </div>
            </div>
        </section>

        <!-- NLP Studio -->
        <section class="sticky-section" id="nlp-anchor">
            <div class="scroll-content" id="nlp-content">
                <div class="text-side">
                    <span class="engine-tag" style="color: #f43f5e;">Semantic Engineering</span>
                    <h2>NLP Studio.</h2>
                    <p>Curation at scale for LLM alignment. Automated Named Entity Recognition and PII audit modes
                        protect privacy while building enterprise-grade datasets.</p>
                    <div class="technical-details">
                        The Live Intelligence Canvas streamlines the extraction of complex entities (SSN, Phone, Email,
                        GPE) from unstructured regulatory documents. Our unique Audit Mode enables double-blind
                        verification, ensuring that fine-tuning datasets are 100% compliant and secure before ingestion
                        into LLMs.
                    </div>
                    <div class="synthetic-badge" style="--accent-color: #f43f5e; --accent-rgb: 244, 63, 94;">
                        <h4><i data-lucide="file-text" size="18"></i> Synthetic Corpus Engine</h4>
                        <p>Cost-effectively fabricate massive document structures and tabular datasets to train models
                            on rare document formats and proprietary schemas.</p>
                    </div>
                </div>
                <div class="visual-side">
                    <div class="feature-image-wrapper">
                        <img src="./assets/NLP Studio.png" alt="NLP Studio">
                    </div>
                </div>
            </div>
        </section>
    </div>

    <!-- Final Call to Action -->
    <section id="hero" style="background: rgba(128, 128, 128, 0.03); height: auto; padding: 150px 20px;">
        <h2 style="font-size: clamp(3rem, 10vw, 6rem); font-weight: 800; letter-spacing: -4px; line-height: 0.95;">
            Intelligence,<br>Synthesized.</h2>
        <p class="hero-subtitle" style="margin-top: 20px;">Vyonix AI Data Factory: Reducing the cost of intelligence
            globally.</p>
        <button class="btn btn-primary" onclick="openModal('JUDGE')"
            style="margin-top: 60px; padding: 24px 64px; font-size: 1.4rem;">Launch Studio <i
                data-lucide="zap"></i></button>
    </section>

    <footer>
        <div class="footer-logo">VYONIX AI</div>
        <p style="font-size: 1rem; opacity: 0.6; margin-bottom: 24px; font-weight: 600;">The Data Architecture for
            World-Class AI Services &bull; 2026</p>
        <div class="credit">Developed by <span class="credit-name">Naresh Matta</span></div>
        <div
            style="margin-top: 40px; display: flex; flex-direction: column; gap: 8px; font-size: 0.8rem; font-weight: 700; opacity: 0.4; letter-spacing: 1.5px; text-transform: uppercase;">
            <span>Powered by Google</span>
            <span>Google Gemini &bull; Google Cloud</span>
        </div>
    </footer>

    <!-- Access Modal -->
    <div class="access-modal" id="modal">
        <div class="modal-card">
            <h2 id="modal-title" style="font-size: 2.2rem; font-weight: 900; letter-spacing: -2px;">Authorization</h2>
            <p id="modal-subtitle" style="color: var(--text-secondary); margin-top: 8px;">Enter your secure session
                code.</p>
            <input type="text" class="code-input" id="access-code" placeholder="VYX-2026-••••-••••" maxlength="19"
                spellcheck="false" autocomplete="off">
            <div id="error-msg"
                style="color: #ff453a; font-size: 0.9rem; font-weight: 700; height: 20px; opacity: 0; transition: opacity 0.3s; margin-top: -10px; margin-bottom: 20px;">
                Invalid Product Key. Please check and try again.</div>
            <button class="modal-btn" id="verify-btn" onclick="verifySession()">Initialize Session <i
                    data-lucide="shield-check"></i></button>
            <p style="margin-top: 24px; color: var(--text-secondary); cursor: pointer; font-weight: 700; text-transform: uppercase; font-size: 0.85rem; letter-spacing: 2px;"
                onclick="closeModal()">Abandon</p>
        </div>
    </div>

    <script>
        lucide.createIcons();

        // Reveal Hero
        window.onload = () => {
            setTimeout(() => {
                const loader = document.getElementById('loader');
                loader.style.opacity = '0';
                setTimeout(() => loader.style.display = 'none', 1000);
                document.getElementById('hero').classList.add('active');
                document.getElementById('main-title').classList.add('active');
                document.getElementById('main-subtitle').classList.add('active');
            }, 1200);
        };

        // Scroll Transitions
        const scrollItems = [
            { anchor: 'audio-anchor', content: 'audio-content' },
            { anchor: 'vision-anchor', content: 'vision-content' },
            { anchor: 'video-anchor', content: 'video-content' },
            { anchor: 'nlp-anchor', content: 'nlp-content' }
        ];

        window.addEventListener('scroll', () => {
            const vh = window.innerHeight;
            scrollItems.forEach(s => {
                const anchor = document.getElementById(s.anchor);
                const content = document.getElementById(s.content);
                if (!anchor || !content) return;
                const rect = anchor.getBoundingClientRect();
                const progress = (vh - rect.top) / rect.height;
                const distance = Math.abs(0.5 - progress);

                if (progress > 0 && progress < 1) {
                    content.classList.add('active');
                    let plateau = Math.max(0, distance - 0.22) * 3.8;
                    const opacity = Math.max(0, 1 - plateau);
                    content.style.opacity = opacity;
                    content.style.transform = `scale(${1 - plateau * 0.1})`;
                    content.style.filter = `blur(${Math.min(30, plateau * 50)}px)`;
                    content.style.pointerEvents = opacity > 0.5 ? 'auto' : 'none';
                } else {
                    content.classList.remove('active');
                    content.style.opacity = 0;
                }
            });
        });

        // Toggle Theme
        function toggleTheme() {
            const html = document.documentElement;
            const target = html.getAttribute('data-theme') === 'dark' ? 'light' : 'dark';
            html.setAttribute('data-theme', target);
            document.getElementById('theme-btn').querySelector('i').setAttribute('data-lucide', target === 'dark' ? 'moon' : 'sun');
            lucide.createIcons();
        }

        // Security: Hashed verification with Product Keys
        const modal = document.getElementById('modal');
        const codeInput = document.getElementById('access-code');
        const errorMsg = document.getElementById('error-msg');
        const verifyBtn = document.getElementById('verify-btn');
        const HASHES = {
            v: '75f89c9ab4558a67ef7a927168f48758feae2f466e5fef6bb260491edc904da2', // VYX-2026-TRIAL-9901
            j: '9f335436693ef39859f2a71d0879ddcca55bb37e882e97330b00f179b9949bf9'  // VYX-2026-JUDGE-7702
        };

        // Auto-formatting for XXX-XXXX-XXXXX-XXXX (Preserves cursor position)
        codeInput.addEventListener('input', (e) => {
            const cursorPosition = e.target.selectionStart;
            const originalLength = e.target.value.length;

            let val = e.target.value.replace(/[^A-Z0-9]/gi, '').toUpperCase();
            let formatted = '';

            if (val.length > 0) {
                formatted += val.substring(0, 3);
                if (val.length > 3) {
                    formatted += '-' + val.substring(3, 7);
                    if (val.length > 7) {
                        formatted += '-' + val.substring(7, 12);
                        if (val.length > 12) {
                            formatted += '-' + val.substring(12, 16);
                        }
                    }
                }
            }

            e.target.value = formatted;

            // Restore cursor position logic
            const newLength = formatted.length;
            const diff = newLength - originalLength;
            let newPos = cursorPosition + diff;

            // Adjust for hyphens
            if (diff > 0 && (newPos === 4 || newPos === 9 || newPos === 15)) {
                // Skip hyphen
            }

            e.target.setSelectionRange(newPos, newPos);

            // Reset error state on type
            errorMsg.style.opacity = '0';
            codeInput.style.borderColor = 'rgba(128, 128, 128, 0.1)';
            codeInput.style.color = 'var(--fg)';
        });

        async function sha256(str) {
            const buf = new TextEncoder().encode(str);
            const hash = await crypto.subtle.digest('SHA-256', buf);
            return Array.from(new Uint8Array(hash)).map(b => b.toString(16).padStart(2, '0')).join('');
        }

        function openModal(type) {
            modal.classList.add('active');
            codeInput.focus();
            document.getElementById('modal-title').innerText = (type === 'TRIAL' ? "Developer Access" : "Judge Verification");
            document.getElementById('modal-subtitle').innerText = "Enter the 16-character VYX Product Key.";
        }

        function closeModal() { modal.classList.remove('active'); codeInput.value = ''; errorMsg.style.opacity = '0'; }

        async function verifySession() {
            const input = codeInput.value.trim();
            if (!input || input.length < 19) {
                showError("Please enter a complete Product Key.");
                return;
            }

            verifyBtn.disabled = true;
            verifyBtn.innerHTML = 'Verifying... <i data-lucide="loader-2" class="animate-spin"></i>';
            lucide.createIcons();

            const hashedInput = await sha256(input);
            if (hashedInput === HASHES.v || hashedInput === HASHES.j) {
                // Persistent Session
                localStorage.setItem('vyonix_session', hashedInput);
                localStorage.setItem('vyonix_auth_time', Date.now());

                document.body.style.transition = 'opacity 1s, filter 1s';
                document.body.style.opacity = '0';
                document.body.style.filter = 'blur(20px)';
                setTimeout(() => window.location.href = 'http://localhost:3000', 1000);
            } else {
                showError("Invalid Product Key. Access Denied.");
                verifyBtn.disabled = false;
                verifyBtn.innerHTML = 'Initialize Session <i data-lucide="shield-check"></i>';
                lucide.createIcons();
            }
        }

        function showError(msg) {
            errorMsg.innerText = msg;
            errorMsg.style.opacity = '1';
            codeInput.style.borderColor = '#ff453a';
            codeInput.style.color = '#ff453a';

            // Shake effect
            modal.querySelector('.modal-card').animate([
                { transform: 'translateX(0)' },
                { transform: 'translateX(-10px)' },
                { transform: 'translateX(10px)' },
                { transform: 'translateX(-10px)' },
                { transform: 'translateX(0)' }
            ], { duration: 400 });
        }

        codeInput.addEventListener('keypress', (e) => { if (e.key === 'Enter') verifySession(); });
    </script>
</body>

</html>